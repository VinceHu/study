# å¤§æ–‡ä»¶ä¸Šä¼  Demo è¯´æ˜

## ğŸ¯ å¦‚ä½•è¿è¡Œ Demo

ç”±äºè¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„å‰åç«¯é¡¹ç›®ï¼Œéœ€è¦åˆ†åˆ«å¯åŠ¨å‰ç«¯å’Œåç«¯æœåŠ¡ã€‚

### æ–¹å¼ä¸€ï¼šåœ¨çº¿ Demoï¼ˆæ¨èï¼‰

è®¿é—®åœ¨çº¿ Demoï¼š[https://your-demo-url.com](https://your-demo-url.com)

### æ–¹å¼äºŒï¼šæœ¬åœ°è¿è¡Œ

#### 1. åˆ›å»ºé¡¹ç›®ç›®å½•

```bash
mkdir large-file-upload-demo
cd large-file-upload-demo
```

#### 2. åˆ›å»ºå‰ç«¯é¡¹ç›®

```bash
# ä½¿ç”¨ Vite åˆ›å»º Vue 3 é¡¹ç›®
npm create vite@latest client -- --template vue-ts
cd client
npm install

# å®‰è£…ä¾èµ–
npm install element-plus axios spark-md5
npm install @element-plus/icons-vue

# å®‰è£…ç±»å‹å®šä¹‰
npm install -D @types/spark-md5
```

#### 3. åˆ›å»ºåç«¯é¡¹ç›®

```bash
cd ..
mkdir server
cd server
npm init -y

# å®‰è£…ä¾èµ–
npm install express multer fs-extra cors
npm install -D nodemon
```

#### 4. å¤åˆ¶ä»£ç 

å°†æ–‡ç« ä¸­çš„ä»£ç å¤åˆ¶åˆ°å¯¹åº”çš„æ–‡ä»¶ä¸­ï¼š

**å‰ç«¯æ–‡ä»¶ç»“æ„ï¼š**
```
client/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ FileUpload.vue
â”‚   â”œâ”€â”€ composables/
â”‚   â”‚   â””â”€â”€ useFileUpload.ts
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ file.ts
â”‚   â”‚   â”œâ”€â”€ hash.ts
â”‚   â”‚   â””â”€â”€ request.ts
â”‚   â”œâ”€â”€ workers/
â”‚   â”‚   â””â”€â”€ hash.worker.ts
â”‚   â”œâ”€â”€ App.vue
â”‚   â””â”€â”€ main.ts
```

**åç«¯æ–‡ä»¶ç»“æ„ï¼š**
```
server/
â”œâ”€â”€ uploads/
â”œâ”€â”€ index.js
â””â”€â”€ upload.js
```

#### 5. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨åç«¯ï¼ˆç»ˆç«¯ 1ï¼‰
cd server
node index.js

# å¯åŠ¨å‰ç«¯ï¼ˆç»ˆç«¯ 2ï¼‰
cd client
npm run dev
```

#### 6. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:5173

## ğŸ“ æµ‹è¯•æ­¥éª¤

1. **é€‰æ‹©æ–‡ä»¶**ï¼šç‚¹å‡»ä¸Šä¼ åŒºåŸŸæˆ–æ‹–æ‹½æ–‡ä»¶
2. **æŸ¥çœ‹ Hash è®¡ç®—**ï¼šè§‚å¯Ÿ Hash è®¡ç®—è¿›åº¦
3. **å¼€å§‹ä¸Šä¼ **ï¼šç‚¹å‡»"å¼€å§‹ä¸Šä¼ "æŒ‰é’®
4. **æŸ¥çœ‹è¿›åº¦**ï¼šè§‚å¯Ÿæ•´ä½“è¿›åº¦å’Œåˆ†ç‰‡çŠ¶æ€
5. **æµ‹è¯•æš‚åœ**ï¼šç‚¹å‡»"æš‚åœ"æŒ‰é’®
6. **æµ‹è¯•ç»§ç»­**ï¼šç‚¹å‡»"ç»§ç»­"æŒ‰é’®
7. **æµ‹è¯•æ–­ç‚¹ç»­ä¼ **ï¼šåˆ·æ–°é¡µé¢ï¼Œé‡æ–°é€‰æ‹©åŒä¸€æ–‡ä»¶
8. **æµ‹è¯•ç§’ä¼ **ï¼šä¸Šä¼ å®Œæˆåï¼Œé‡æ–°é€‰æ‹©åŒä¸€æ–‡ä»¶

## ğŸ¨ æ•ˆæœé¢„è§ˆ

### æ–‡ä»¶é€‰æ‹©
![æ–‡ä»¶é€‰æ‹©](./screenshots/file-select.png)

### Hash è®¡ç®—
![Hash è®¡ç®—](./screenshots/hash-calculating.png)

### ä¸Šä¼ ä¸­
![ä¸Šä¼ ä¸­](./screenshots/uploading.png)

### ä¸Šä¼ å®Œæˆ
![ä¸Šä¼ å®Œæˆ](./screenshots/upload-success.png)

## ğŸ’¡ æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶å¤§å°é™åˆ¶**ï¼šå»ºè®®æµ‹è¯•æ–‡ä»¶å¤§å°åœ¨ 100MB - 2GB ä¹‹é—´
2. **æµè§ˆå™¨å…¼å®¹æ€§**ï¼šéœ€è¦æ”¯æŒ Web Worker å’Œ File API çš„ç°ä»£æµè§ˆå™¨
3. **æœåŠ¡å™¨é…ç½®**ï¼šç¡®ä¿æœåŠ¡å™¨æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´
4. **ç½‘ç»œç¯å¢ƒ**ï¼šå»ºè®®åœ¨æœ¬åœ°ç½‘ç»œæµ‹è¯•ï¼Œé¿å…å…¬ç½‘å¸¦å®½é™åˆ¶

## ğŸ› å¸¸è§é—®é¢˜

### Q: ä¸Šä¼ å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
- åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
- uploads ç›®å½•æ˜¯å¦æœ‰å†™å…¥æƒé™
- æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### Q: Hash è®¡ç®—å¾ˆæ…¢ï¼Ÿ

A: è¿™æ˜¯æ­£å¸¸çš„ï¼Œå¤§æ–‡ä»¶è®¡ç®— Hash éœ€è¦æ—¶é—´ã€‚å¯ä»¥ï¼š
- ä½¿ç”¨æ›´å¿«çš„ç”µè„‘
- å‡å°æµ‹è¯•æ–‡ä»¶å¤§å°
- ä½¿ç”¨æŠ½æ ·è®¡ç®—ï¼ˆéœ€è¦ä¿®æ”¹ä»£ç ï¼‰

### Q: å¦‚ä½•éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Ÿ

A: éœ€è¦è€ƒè™‘ï¼š
- ä½¿ç”¨ OSS å­˜å‚¨æ–‡ä»¶
- æ·»åŠ ç”¨æˆ·è®¤è¯
- æ·»åŠ æ–‡ä»¶ç±»å‹å’Œå¤§å°é™åˆ¶
- æ·»åŠ ä¸Šä¼ é€Ÿç‡é™åˆ¶
- æ·»åŠ ç›‘æ§å’Œæ—¥å¿—

## ğŸ“š æ‰©å±•é˜…è¯»

- [å®Œæ•´é¡¹ç›®æ–‡æ¡£](./large-file-upload.md)
- [Vue 3 å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/)
- [Element Plus æ–‡æ¡£](https://element-plus.org/)
